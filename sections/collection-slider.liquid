<div class="dawn-product-slider">
  <div class="carousel center">
    {% for block in section.blocks %}
      {%- for product in collections[block.settings.collection].products -%}
        <div class="carousel-cell">
          <a href="{{ product.url }}">
            <!-- <img data-flickity-lazyload="{{ product.featured_image | img_url: 'master' }}"  border="0" /> -->
            <p class="title">{{ product.title }}</p>
            <p class="price">{{ product.price | money }}</p>
          </a>
        </div>
      {% endfor %}
    {% endfor %}
  </div>
</div>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick.js"></script>
<script>
  $('.dawn-product-slider').slick({
    infinite: false,
    slidesToShow: 3,
    slidesToScroll: 1,
      autoplay: true,
    autoplaySpeed: 2000,
      responsive: [
      {
        breakpoint: 1024,
        settings: {
          slidesToShow: 2,
          slidesToScroll: 1,
        }
      },
      {
        breakpoint: 600,
        settings: {
          slidesToShow: 2,
          slidesToScroll: 1
        }
      },
      {
        breakpoint: 480,
        settings: {
          slidesToShow: 1,
          slidesToScroll: 1
        }
      }

    ]
  });
</script>
{% schema %}
{
  "name": "Collection slider",
  "settings": [
    {
      "type": "range",
      "id": "navigation_amount",
      "min": 2,
      "max": 4,
      "step": 1,
      "default": 3,
      "label": "Change the number of cards in view"
    },
    {
      "type": "color",
      "id": "navigation_color",
      "label": "Change color of the pagination|navigation|scrollbar"
    },
    {
      "type": "text",
      "id": "title",
      "default": "Products slider",
      "label": "t:sections.featured-collection.settings.title.label"
    },
    {
      "type": "text",
      "id": "subtitle",
      "default": "Products slider",
      "label": "t:sections.featured-collection.settings.subtitle.label"
    }
  ] ,
  "blocks": [
    {
       "type": "collection",
       "name": "Collection",
       "settings": [
          {
          "type": "collection",
          "id": "collection",
          "label": "Collection"
          }

       ]
    }
 ],
  "presets": [
    {
      "name": "Product slider",
      "category":"Custom"
    }
  ]
}
{% endschema %}
